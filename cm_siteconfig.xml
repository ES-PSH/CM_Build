<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Version 1.2.25 - DS - 2017-09-09 -->
<configuration comment="ConfigMgr Site P01 on CM01.contoso.com - DS - 9/9/2017">
    <cmsite sitecode="P01" forest="contoso.com">
        <control comment="Enable configuration steps and specify sequence order">
            <ci use="1" name="ACCOUNTS" comment="site accounts" />
            <ci use="1" name="ADFOREST" comment="assign AD forest" />
            <ci use="1" name="SERVERSETTINGS" comment="site system settings" />
            <ci use="1" name="DISCOVERY" comment="discovery methods" />
            <ci use="1" name="BOUNDARIES" comment="site boundaries" />
            <ci use="1" name="BOUNDARYGROUPS" comment="boundary groups" />
            <ci use="1" name="SITEROLES" comment="site roles and featurs" />
            <ci use="1" name="CLIENTSETTINGS" comment="client settings" />
            <ci use="1" name="CLIENTINSTALL" comment="client push install settings" />
            <ci use="1" name="DPGROUPS" comment="distribution point groups" />
            <ci use="1" name="FOLDERS" comment="console folders" />
            <ci use="1" name="QUERIES" comment="custom queries" />
            <ci use="1" name="COLLECTIONS" comment="device and user collections" />
            <ci use="1" name="OSIMAGES" comment="OS images" />
            <ci use="1" name="OSINSTALLERS" comment="OS upgrade installers" />
            <ci use="1" name="MTASKS" comment="site maintenance tasks" />
            <ci use="1" name="APPCATEGORIES" comment="application categories" />
            <ci use="1" name="APPLICATIONS" comment="applications" />
            <ci use="1" name="MALWAREPOLICIES" comment="endpoint protection policies" />
        </control>
        <schedules>
            <!-- still working on this one -->
            <schedule use="0" name="sch15min" unit="minutes" value="15" />
            <schedule use="0" name="schDaily" unit="days" value="1" />
            <schedule use="0" name="schWeekly" unit="days" value="7" />
        </schedules>
        <discoveries comment="https://docs.microsoft.com/en-us/powershell/sccm/configurationmanager/vlatest/set-cmdiscoverymethod">
            <discovery use="1" name="ActiveDirectoryForestDiscovery" PollingSchedule="sch15mins" options="EnableSubnetBoundaryCreation" />
            <!--<discovery use="0" name="ActiveDirectoryForestDiscovery" PollingSchedule="sch15mins" options="EnableActiveDirectorySiteBoundaryCreation" />-->
            <discovery use="1" name="ActiveDirectorySystemDiscovery" PollingSchedule="schDaily" options="EnableDeltaDiscovery:15|ADContainer:dc=contoso,dc=com|EnableFilteringExpiredLogon:90|EnableFilteringExpiredPassword:90" />
            <discovery use="1" name="ActiveDirectoryGroupDiscovery" PollingSchedule="schDaily" options="EnableDeltaDiscovery:15" />
            <discovery use="1" name="ActiveDirectoryUserDiscovery" PollingSchedule="schDaily" options="EnableDeltaDiscovery:15|ADAttributes:title,department,division|ADContainer:dc=contoso,dc=com|EnableFilteringExpiredLogon:90|EnableFilteringExpiredPassword:90" />
            <discovery use="0" name="NetworkDiscovery" PollingSchedule="schDaily" />
            <discovery use="1" name="HeartbeatDiscovery" PollingSchedule="DEFAULT" />
        </discoveries>
        <boundarygroups comment="Configure Boundary Groups">
            <boundarygroup use="1" name="NA-US-VA-Norfolk" SiteSystemServer="cm01.contoso.com" LinkType="FastLink" comment="Norfolk" />
            <boundarygroup use="1" name="NA-US-VA-VB" SiteSystemServer="cm01.contoso.com" LinkType="FastLink" comment="Virginia Beach" />
            <boundarygroup use="1" name="NA-US-CA-Fremont" SiteSystemServer="cm01.contoso.com" LinkType="FastLink" comment="Fremont" />
            <boundarygroup use="1" name="NA-US-NY-NewYork" SiteSystemServer="cm01.contoso.com" LinkType="FastLink" comment="New York" />
        </boundarygroups>
        <boundaries comment="Configure Site Boundaries if not set to AD discovery-automatic">
            <boundary use="1" name="NA-US-VA-Norfolk-Servers" type="IPRange" value="192.168.0.10-192.168.0.99" boundarygroup="NA-US-VA-Norfolk" comment="Norfolk" />
            <boundary use="1" name="NA-US-VA-Norfolk-Workstations" type="IPRange" value="192.168.0.100-192.168.0.150" boundarygroup="NA-US-VA-Norfolk" comment="Norfolk" />
            <boundary use="1" name="NA-US-NY-NewYork-Servers" type="IPRange" value="192.168.2.10-192.168.2.99" boundarygroup="NA-US-NY-NewYork" comment="New York" />
        </boundaries>
        <clientoptions comment="Configure Default Client Push Installation settings">
            <!-- still working on this one -->
            <CMClientPushInstallation use="0" EnableAutomaticClientPushInstallation="false" EnableSystemTypeConfiguationManager="false" ChosenAccount="CONTOSO\sccmclient" InstallationProperty="SMSSITECODE=P01" />
        </clientoptions>
        <serversettings comment="Server Settings">
            <serversetting use="1" name="CMSoftwareDistributionComponent" comment="Software Distribution Settings" key="NetworkAccessAccountName" value="CONTOSO\cm-naa" />
        </serversettings>
        <clientsettings comment="Client Settings">
            <clientsetting name="Workstations" comment="Workstation Client Settings" type="Device" priority="1">
                <settings>
                    <setting use="1" name="BITS" options="EnableBitsMaxBandwidth" />
                    <setting use="1" name="ComputerAgent" options="AddPortalToTrustedSiteList,AllowPortalToHaveElevatedTrust,BrandingTitle=Contoso IT,EnableThirdPartyOrchestration,FinalReminderMinutesInterval=25,InitialReminderHoursInterval=6,InstallRestriction=OnlyAdministrators,PortalUrl=http://cm02.contoso.com,PowerShellExecutionPolicy=Bypass,SuspendBitLocker=Always" />
                    <setting use="0" name="ComputerRestart" />
                    <setting use="0" name="EndpointProtection" />
                    <setting use="0" name="HardwareInventory" />
                    <setting use="0" name="PowerOptions" />
                    <setting use="0" name="RemoteTools" />
                    <setting use="0" name="SoftwareDeployment" />
                    <setting use="0" name="SoftwareInventory" />
                    <setting use="0" name="SoftwareUpdates" />
                </settings>
            </clientsetting>
            <settings>
                <setting use="0" name="HardwareInventory" />
                <setting use="0" name="RemoteTools" />
                <setting use="0" name="SoftwareInventory" />
            </settings>
            <clientsetting name="Servers" comment="Server Client Settings" type="Device" priority="2">
            </clientsetting>
        </clientsettings>
        <dpgroups comment="Distribution Point Groups">
            <dpgroup use="1" name="All Distribution Points" comment="All DP servers throughout the organization" />
            <dpgroup use="1" name="Virginia DPs" comment="DP servers in Virginia" />
            <dpgroup use="1" name="California DPs" comment="DP servers in California" />
            <dpgroup use="1" name="Azure DPs" comment="DP servers in Azure" />
        </dpgroups>
        <sitesystemroles>
            <sitesystemrole name="aisp" enabled="true" comment="Asset Intelligence Synchronization Point">
                <roleoptions comment="Configure Asset Intelligence Classes">
                    <roleoption use="1" name="EnableAllReportingClass" params="" />
                    <roleoption use="0" name="EnableReportingClass" params="SMS_BrowserHelperObject" />
                    <roleoption use="0" name="EnableReportingClass" params="SMS_InstalledExecutable" />
                    <roleoption use="0" name="EnableReportingClass" params="SMS_InstalledSoftware" />
                    <roleoption use="0" name="EnableReportingClass" params="SMS_SoftwareShortcut" />
                    <roleoption use="0" name="EnableReportingClass" params="SMS_SoftwareTag" />
                    <roleoption use="0" name="EnableReportingClass" params="SMS_SystemConsoleUsage" />
                    <roleoption use="0" name="EnableReportingClass" params="SMS_SystemConsoleUser" />
                    <roleoption use="0" name="EnableReportingClass" params="SoftwareLicensingProduct" />
                    <roleoption use="0" name="EnableReportingClass" params="SoftwareLicensingService" />"
                    <roleoption use="0" name="EnableReportingClass" params="Win32_USBDevice" />
                </roleoptions>
            </sitesystemrole>
            <sitesystemrole name="scp" enabled="true" comment="Service Connection Point">
                <roleoptions comment="">
                    <roleoption use="1" name="Mode" params="Online" />
                </roleoptions>
            </sitesystemrole>
            <sitesystemrole name="mp" enabled="true" comment="Management Point">
                <roleoptions comment="">
                    <roleoption use="1" name="PublicFqdn" params="cm02.contoso.com" />
                    <roleoption use="1" name="FdmOperation" params="False" />
                    <roleoption use="1" name="AccountName" params="NULL" />
                    <roleoption use="0" name="EnableProxy" params="ProxyAccessAccount=NAME,ProxyServerName=NAME,ProxyServerPort=INT" />
                    <roleoption use="1" name="PublishDNS" params="True" />
                </roleoptions>
            </sitesystemrole>
            <sitesystemrole name="ssrp" enabled="true" comment="Reporting Services Point">
                <roleoptions comment="">
                    <roleoption use="1" name="DatabaseServerName" params="cm02.contoso.com" />
                    <roleoption use="1" name="DatabaseName" params="CM_P01" />
                    <roleoption use="1" name="UserName" params="CONTOSO\svc-sql" />
                    <roleoption use="0" name="FolderName" params="" />
                    <roleoption use="0" name="ReportServerInstance" params="" />
                </roleoptions>
            </sitesystemrole>
            <sitesystemrole name="cmg" enabled="false" comment="Cloud Management Gateway">
                <roleoptions comment="">
                    <roleoption use="1" name="CloudManagementGatewayName" params="" />
                </roleoptions>
            </sitesystemrole>
            <sitesystemrole name="dp" enabled="true" comment="Distribution Point">
                <roleoptions comment="">
                    <roleoption use="1" name="Description" params="Distribution Point 1" />
                    <roleoption use="1" name="ClientCommunicationType" params="http" />
                    <roleoption use="1" name="ClientConnectionType" params="InternetAndIntranet" />
                    <roleoption use="1" name="ContentMonitoringPriority" params="Highest" />
                    <roleoption use="1" name="EnableAnonymous" params="True" />
                    <roleoption use="1" name="EnableContentValidation" params="True" />
                    <roleoption use="1" name="EnableUnknownComputerSupport" params="True" />
                    <roleoption use="1" name="EnablePxe" params="True" />
                    <roleoption use="1" name="AllowPxeResponse" params="True" />
                    <roleoption use="1" name="PxePassword" params="123" />
                </roleoptions>
            </sitesystemrole>
            <sitesystemrole name="sup" enabled="true" comment="Software Update Point">
                <roleoptions comment="">
                    <roleoption use="1" name="HttpPort" params="8530" />
                    <roleoption use="1" name="HttpsPort" params="8531" />
                    <roleoption use="1" name="ClientConnectionType" params="InternetAndIntranet" />
                    <roleoption use="1" name="WsusAccessAccount" params="NULL" />
                </roleoptions>
                <features comment="">
                    <feature name="SynchronizeAction" params="SynchronizeFromMicrosoftUpdate" />
                    <feature name="AddUpdateClassifications" params="Definition Updates,Critical Updates,Updates" />
                    <feature name="AddProducts" params="Windows Server Manager - Windows Server Update Services (WSUS) Dynamic Installer" />
                </features>
            </sitesystemrole>
            <sitesystemrole name="acwsp" enabled="true" comment="Application Catalog Web Service Point">
                <roleoptions>
                    <roleoption use="0" name="" params="" />
                </roleoptions>
            </sitesystemrole>
            <sitesystemrole name="acwp" enabled="true" comment="Application Catalog Website Point">
                <roleoptions>
                    <roleoption use="1" name="CommuncationType" params="Https" />
                    <roleoption use="1" name="ClientConnectionType" params="Intranet" />
                    <roleoption use="0" name="OrganizationName" params="Contoso" />
                    <roleoption use="1" name="ThemeColor" params="Orange" />
                </roleoptions>
            </sitesystemrole>
        </sitesystemroles>
        <folders comment="Console Folders to create">
            <folder use="1" name="Deploy Applications" path="DeviceCollection" comment="" />
            <folder use="1" name="Deploy Updates" path="DeviceCollection" comment="" />
            <folder use="1" name="Inventory Hardware" path="DeviceCollection" comment="" />
            <folder use="1" name="Inventory Software" path="DeviceCollection" comment="" />
            <folder use="1" name="Inventory Organization" path="UserCollection" comment="" />
            <folder use="1" name="Deploy Applications" path="UserCollection" comment="" />
            <folder use="1" name="Production" path="TaskSequence" comment="" />
            <folder use="1" name="Testing" path="TaskSequence" comment="" />
            <folder use="1" name="WinPE" path="DriverPackage" comment="" />
            <folder use="1" name="HP" path="DriverPackage" comment="" />
            <folder use="1" name="EliteBook.9470m" path="DriverPackage/HP" comment="" />
            <folder use="1" name="ZBook.15uG2" path="DriverPackage/HP" comment="" />
            <folder use="1" name="Windows Desktop" path="OperatingSystemImage" comment="" />
            <folder use="1" name="Windows Server" path="OperatingSystemImage" comment="" />
            <folder use="1" name="Contoso" path="BootImage" comment="" />
            <folder use="1" name="Google" path="Application" comment="" />
            <folder use="1" name="Microsoft" path="Application" comment="" />
            <folder use="1" name="Utilities" path="Application" comment="" />
            <folder use="1" name="Tools" path="Application\Utilities" comment="" />
        </folders>
        <queries comment="Custom queries">
            <query use="1" name="Contoso - Serial, MAC and Hostname" comment="Serial Number, MAC address and Hostname for all Devices" class="SMS_R_System" expression="select distinct SMS_R_System.Name, SMS_G_System_SYSTEM_ENCLOSURE.SerialNumber, SMS_G_System_NETWORK_ADAPTER.MACAddress, SMS_G_System_NETWORK_ADAPTER_CONFIGURATION.IPEnabled from  SMS_R_System inner join SMS_G_System_SYSTEM_ENCLOSURE on SMS_G_System_SYSTEM_ENCLOSURE.ResourceID = SMS_R_System.ResourceId inner join SMS_G_System_NETWORK_ADAPTER on SMS_G_System_NETWORK_ADAPTER.ResourceID = SMS_R_System.ResourceId inner join SMS_G_System_NETWORK_ADAPTER_CONFIGURATION on SMS_G_System_NETWORK_ADAPTER_CONFIGURATION.ResourceID = SMS_R_System.ResourceId where SMS_G_System_NETWORK_ADAPTER_CONFIGURATION.IPEnabled = 1 and SMS_G_System_NETWORK_ADAPTER.MACAddress not like '' order by SMS_R_System.Name" />
            <query use="1" name="Contoso - Windows Server Features" comment="Windows Server Feature Names" class="SMS_R_System" expression="select distinct SMS_G_System_SERVER_FEATURE.Name from  SMS_R_System inner join SMS_G_System_SERVER_FEATURE on SMS_G_System_SERVER_FEATURE.ResourceID = SMS_R_System.ResourceId order by SMS_G_System_SERVER_FEATURE.Name" />
        </queries>
        <osimages comment="For bare-metal and build-and-capture installs">
            <osimage use="1" name="Windows 10 x64 Ent 1703" path="\\Fs1\SOURCES\Win10x64ent\sources\install.wim" comment="Windows 10 x64 Enterprise 1703" />
            <osimage use="1" name="Windows Server 2016 Datacenter" path="\\Fs1\SOURCES\ws2016dc\sources\install.wim" comment="Windows Server 2016 Datacenter" />
        </osimages>
        <osinstallers comment="For in-place upgrades">
            <osinstaller use="1" name="Windows 10 x64 Ent 1703" path="\\Fs1\SOURCES\Win10x64ent" comment="Windows 10 x64 Enterprise 1703" version="1703.15063.540" />
            <osinstaller use="0" name="Windows Server 2016 Datacenter 1607" path="\\Fs1\SOURCES\ws2016dc" comment="Windows Server 2016 Datacenter" version="1607.14393.1593" />
        </osinstallers>
        <collections comment="Custom Collections">
            <collection use="1" name="Users - Title - Research Analysts" type="User" comment="Users by Job Title: Research Analyst" parent="All Users" folder="UserCollection\Inventory Organization" ruletype="query" rule="select SMS_R_USER.ResourceID,SMS_R_USER.ResourceType,SMS_R_USER.Name,SMS_R_USER.UniqueUserName,SMS_R_USER.WindowsNTDomain from SMS_R_User where sms_R_User.title = 'Research Analyst'" />
            <collection use="1" name="Users - Title - Sales Managers" type="User" comment="Users by Job Title: Sales Manager" parent="All Users" folder="UserCollection\Inventory Organization" ruletype="query" rule="select distinct SMS_R_User.ResourceId, SMS_R_User.ResourceType, SMS_R_User.Name, SMS_R_User.UniqueUserName, SMS_R_User.WindowsNTDomain from  SMS_R_User where SMS_R_User.title = 'Sales Manager'" />
            <collection use="1" name="Users - Deploy - Dev Apps" type="User" comment="Developer Apps Bundle" parent="All Users" folder="UserCollection\Deploy Applications" ruletype="" rule="" />
            <collection use="1" name="Clients - Servers - All Windows Servers" type="Device" comment="Clients with Windows Server" parent="All Desktop and Server Clients" folder="DeviceCollection\Inventory Software" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceId = SMS_R_System.ResourceId where SMS_G_System_OPERATING_SYSTEM.Name like '%Server%'" />
            <collection use="1" name="Clients - Servers - 2012 R2" type="Device" comment="Server clients with Windows Server 2012 R2" parent="All Desktop and Server Clients" folder="DeviceCollection\Inventory Software" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceId = SMS_R_System.ResourceId where SMS_G_System_OPERATING_SYSTEM.Name like '%Server 2012 R2%'" />
            <collection use="1" name="Clients - Servers - 2016" type="Device" comment="Server clients with Windows Server 2016" parent="All Desktop and Server Clients" folder="DeviceCollection\Inventory Software" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceId = SMS_R_System.ResourceId where SMS_G_System_OPERATING_SYSTEM.Name like '%Server 2016%'" />
            <collection use="1" name="Clients - Servers - Dell" type="Device" comment="Dell server clients" parent="All Desktop and Server Client" folder="DeviceCollection\Inventory Hardware" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_COMPUTER_SYSTEM on SMS_G_System_COMPUTER_SYSTEM.ResourceID = SMS_R_System.ResourceId inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceID = SMS_R_System.ResourceId where SMS_G_System_COMPUTER_SYSTEM.Manufacturer = 'Dell' and SMS_G_System_OPERATING_SYSTEM.Name like '%Server%'" />
            <collection use="1" name="Clients - Servers - HP" type="Device" comment="HP server clients" parent="All Desktop and Server Client" folder="DeviceCollection\Inventory Hardware" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_COMPUTER_SYSTEM on SMS_G_System_COMPUTER_SYSTEM.ResourceID = SMS_R_System.ResourceId inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceID = SMS_R_System.ResourceId where SMS_G_System_COMPUTER_SYSTEM.Manufacturer = 'Hewlett-Packard' and SMS_G_System_OPERATING_SYSTEM.Name like '%Server%'" />
            <collection use="1" name="Clients - Servers - Lenovo" type="Device" comment="Lenovo server clients" parent="All Desktop and Server Client" folder="DeviceCollection\Inventory Hardware" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_COMPUTER_SYSTEM on SMS_G_System_COMPUTER_SYSTEM.ResourceID = SMS_R_System.ResourceId inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceID = SMS_R_System.ResourceId where SMS_G_System_COMPUTER_SYSTEM.Manufacturer = 'Lenovo' and SMS_G_System_OPERATING_SYSTEM.Name like '%Server%'" />
            <collection use="1" name="Clients - Server Role - File Servers" type="Device" comment="File Servers" parent="All Desktop and Server Clients" folder="DeviceCollection\Inventory Software" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_SERVER_FEATURE on SMS_G_System_SERVER_FEATURE.ResourceId = SMS_R_System.ResourceId where SMS_G_System_SERVER_FEATURE.Name = 'File and Storage Services'" />
            <collection use="1" name="Clients - Server Role - Web Servers" type="Device" comment="Web Servers" parent="All Desktop and Server Clients" folder="DeviceCollection\Inventory Software" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_SERVER_FEATURE on SMS_G_System_SERVER_FEATURE.ResourceId = SMS_R_System.ResourceId where SMS_G_System_SERVER_FEATURE.Name = 'Web Server (IIS)'" />
            <collection use="1" name="Clients - Server Role - WSUS Servers" type="Device" comment="WSUS Servers" parent="All Desktop and Server Clients" folder="DeviceCollection\Inventory Software" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_SERVER_FEATURE on SMS_G_System_SERVER_FEATURE.ResourceId = SMS_R_System.ResourceId where SMS_G_System_SERVER_FEATURE.Name = 'WSUS Services'" />
            <collection use="1" name="Clients - Workstations - Windows 10" type="Device" comment="Workstation clients with Windows 10" parent="All Desktop and Server Clients" folder="DeviceCollection\Inventory Software" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceId = SMS_R_System.ResourceId where SMS_G_System_OPERATING_SYSTEM.Name like 'Microsoft Windows 10%'" />
            <collection use="1" name="Clients - Workstations - Windows 8.1" type="Device" comment="Workstation clients with Windows 8.1" parent="All Desktop and Server Clients" folder="DeviceCollection\Inventory Software" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceId = SMS_R_System.ResourceId where SMS_G_System_OPERATING_SYSTEM.Name like 'Microsoft Windows 8.1%'" />
            <collection use="1" name="Clients - Workstations - Windows 7" type="Device" comment="Workstation clients with Windows 7" parent="All Desktop and Server Clients" folder="DeviceCollection\Inventory Software" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceId = SMS_R_System.ResourceId where SMS_G_System_OPERATING_SYSTEM.Name like 'Microsoft Windows 7%'" />
            <collection use="1" name="Clients - Workstations - Dell" type="Device" comment="Dell workstation clients" parent="All Desktop and Server Client" folder="DeviceCollection\Inventory Hardware" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_COMPUTER_SYSTEM on SMS_G_System_COMPUTER_SYSTEM.ResourceID = SMS_R_System.ResourceId inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceID = SMS_R_System.ResourceId where SMS_G_System_COMPUTER_SYSTEM.Manufacturer = 'Dell' and SMS_G_System_OPERATING_SYSTEM.Name not like '%Server%'" />
            <collection use="1" name="Clients - Workstations - HP" type="Device" comment="HP workstation clients" parent="All Desktop and Server Client" folder="DeviceCollection\Inventory Hardware" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_COMPUTER_SYSTEM on SMS_G_System_COMPUTER_SYSTEM.ResourceID = SMS_R_System.ResourceId inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceID = SMS_R_System.ResourceId where SMS_G_System_COMPUTER_SYSTEM.Manufacturer = 'Hewlett-Packard' and SMS_G_System_OPERATING_SYSTEM.Name not like '%Server%'" />
            <collection use="1" name="Clients - Workstations - Lenovo" type="Device" comment="Lenovo workstation clients" parent="All Desktop and Server Client" folder="DeviceCollection\Inventory Hardware" ruletype="query" rule="select distinct SMS_R_SYSTEM.ResourceID,SMS_R_SYSTEM.ResourceType,SMS_R_SYSTEM.Name,SMS_R_SYSTEM.SMSUniqueIdentifier,SMS_R_SYSTEM.ResourceDomainORWorkgroup,SMS_R_SYSTEM.Client from SMS_R_System inner join SMS_G_System_COMPUTER_SYSTEM on SMS_G_System_COMPUTER_SYSTEM.ResourceID = SMS_R_System.ResourceId inner join SMS_G_System_OPERATING_SYSTEM on SMS_G_System_OPERATING_SYSTEM.ResourceID = SMS_R_System.ResourceId where SMS_G_System_COMPUTER_SYSTEM.Manufacturer = 'Lenovo' and SMS_G_System_OPERATING_SYSTEM.Name not like '%Server%'" />
        </collections>
        <appcategories comment="Application Categories">
            <appcategory use="1" name="IT" enabled="true" comment="" />
            <appcategory use="1" name="Developer" enabled="true" comment="" />
            <appcategory use="1" name="Engineering" enabled="true" comment="" />
            <appcategory use="1" name="Finance" enabled="true" comment="" />
            <appcategory use="1" name="General" enabled="true" comment="" />
            <appcategory use="1" name="Sales" enabled="true" comment="" />
        </appcategories>
        <applications comment="Applications">
            <application use="1" name="7-Zip" publisher="7-Zip" version="17.01" categories="General" comment="File compression utility" folder="Utilities" keywords="file,zip,utility,archive,compression">
                <deptypes comment="Deployment Types">
                    <deptype name="x64 installer" platform="64" source="\\Fs1\APPS\Packages\7-Zip\7z1701-x64.msi" options="auto" comment="64-bit installer" />
                    <deptype name="x86 installer" platform="32" source="\\Fs1\APPS\Packages\7-Zip\7z1701.msi" options="auto" comment="32-bit installer" />
                </deptypes>
            </application>
            <application use="1" name="Notepad++ 7.5" publisher="Notepad++" version="7.5.1" categories="Developer,Engineering" comment="Text and Code editor" folder="Utilities" keywords="editor,text,code,programming,script">
                <deptypes comment="Deployment Types">
                    <deptype name="x64 installer" platform="64" source="\\Fs1\APPS\Packages\Notepad++\npp.7.5.1.installer.x64.exe" options="/s" uninstall="C:\Program Files\Notepad++\uninstall.exe" detect="registry:HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\Notepad++,DisplayVersion,-ge,7.5" requires="" comment="64-bit installer" />
                    <deptype name="x86 installer" platform="32" source="\\Fs1\APPS\Packages\Notepad++\npp.7.5.1.installer.exe" options="/s" uninstall="C:\Program Files\Notepad++\uninstall.exe" detect="registry:HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\Notepad++,DisplayVersion,-ge,7.5" requires="" comment="32-bit installer" />
                </deptypes>
            </application>
            <application use="1" name="Microsoft RDC Manager" publisher="Microsoft" version="2.7" categories="IT,Developer" comment="Remote Desktop Connection Manager" folder="Microsoft" keywords="remote,rdc,rdp,desktop">
                <deptypes comment="Deployment Types">
                    <deptype name="x86 installer" platform="32" source="\\Fs1\APPS\Packages\Microsoft\RDC Manager\rdcman.msi" options="auto" comment="32-bit installer" />
                </deptypes>
            </application>
            <application use="1" name="Google Earth" publisher="Google" version="7.1" categories="Developer" comment="Mapping and visualization" folder="Google" keywords="google,earth,maps,model,3d">
                <deptypes comment="Deployment Types">
                    <deptype name="x86 installer" platform="32" source="\\Fs1\APPS\Packages\Google\EarthPro\GoogleEarth7.1.5.1557.msi" options="auto" comment="32-bit installer" />
                </deptypes>
            </application>
            <application use="1" name="VLC Player" publisher="VideoLAN" version="2.2.6" categories="General" comment="Media player" folder="Utilities" keywords="vlc,video,audio,media,player">
                <deptypes comment="Deployment Types">
                    <deptype name="x86 installer" platform="32" source="\\Fs1\APPS\Packages\VLC Player\vlc-2.2.6-win32.exe" options="/S" uninstall="C:\Program Files\VideoLAN\VLC\uninstall.exe /S" detect="file:\Program Files\VideoLAN\VLC\vlc.exe" comment="32-bit installer" />
					<deptype name="x64 installer" platform="64" source="\\Fs1\APPS\Packages\VLC Player\vlc-2.2.6-win64.exe" options="/S" uninstall="C:\Program Files\VideoLAN\VLC\uninstall.exe /S" detect="file:\Program Files\VideoLAN\VLC\vlc.exe" comment="64-bit installer" />
                </deptypes>
            </application>
			<application use="1" name="Paint.Net" publisher="dotPDN LLC" version="4.0.17" categories="General" keywords="paint,net,image,graphic,media" comment="Paint.Net" folder="Utilities\Tools">
				<deptypes comment="Deployment Types">
					<deptype name="x64 installer" platform="64" source="\\Fs1\APPS\Packages\Paint.Net\PaintDotNet_x64.msi" options="auto" uninstall="" detect="" comment="64-bit installer" />
					<deptype name="x86 installer" platform="32" source="\\Fs1\APPS\Packages\Paint.Net\PaintDotNet_x86.msi" options="auto" uninstall="" detect="" comment="32-bit installer" />
				</deptypes>
			</application>
			<application use="1" name="SQL Server Management Studio" publisher="Microsoft" version="2017.2" categories="IT,Developer" comment="SQL Server Management Studio" folder="Microsoft" keywords="sql,ssms,management,database">
				<deptypes comment="Deployment Types">
					<deptype name="x64 installer" platform="64" source="\\Fs1\APPS\CM_BUILD\SSMS\SSMS-Setup-ENU.exe" options="/S" uninstall="" comment="" />
				</deptypes>
			</application>
			<!--
			<application use="1" name="" publisher="" version="" categories="" keywords="" comment="" folder="">
				<deptypes comment="Deployment Types">
					<deptype name="" platform="" source="" options="" uninstall="" detect="" comment="" />
				</deptypes>
			</application>
			-->
        </applications>
        <mtasks comment="Site Maintenance Tasks">
            <mtask use="1" name="Backup SMS Site Server" enabled="false" options="F:\BACKUPS" />
            <mtask use="1" name="Rebuild Indexes" enabled="false" options="" />
            <mtask use="1" name="Monitor Keys" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Inventory History" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Status Messages" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Discovery Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Collected Files" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Metering Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Metering Summary Data" enabled="true" options="" />
            <mtask use="1" name="Summarize File Usage Metering Data" enabled="true" options="" />
            <mtask use="1" name="Summarize Monthly Usage Metering Data" enabled="true" options="" />
            <mtask use="1" name="Clear Undiscovered Clients" enabled="true" options="" />
            <mtask use="1" name="Delete Inactive Client Discovery Data" enabled="true" options="" />
            <mtask use="1" name="Delete Obsolete Client Discovery Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Computer Association Data" enabled="true" options="" />
            <mtask use="1" name="Evaluate Provisioned AMT Computer Certificates" enabled="true" options="" />
            <mtask use="1" name="Delete Obsolete Alerts" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Application Revisions" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Log Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Client Download History" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Replication Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Replication Summary Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Application Request Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Exchange Partnership" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Device Wipe Record" enabled="true" options="" />
            <mtask use="1" name="Delete Obsolete Forest Discovery Sites And Subnets" enabled="true" options="" />
            <mtask use="1" name="Check Application Title with Inventory Information" enabled="true" options="" />
            <mtask use="1" name="Summarize Installed Software Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Enrolled Devices" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Threat Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged EP Health Status History Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Client Operations" enabled="true" options="" />
            <mtask use="1" name="Delete Aged User Device Affinity Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Delete Detection Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Notification Task History" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Notification Server History" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Unknown Computers" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Distribution Point Usage Stats" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Passcode Records" enabled="true" options="" />
            <mtask use="1" name="Update Application Available Targeting" enabled="true" options="" />
            <mtask use="1" name="Delete Expired MDM Bulk Enroll Package Records" enabled="true" options="" />
            <mtask use="1" name="Delete Orphaned Client Deployment State Records" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Console Connection Data" enabled="true" options="" />
            <mtask use="1" name="Delete Aged Cloud Management Gateway Traffic Data" enabled="true" options="" />
        </mtasks>
        <accounts comment="Site System Accounts">
            <account use="1" name="CONTOSO\cm-clientinstall" password="P@ssW0rd!" comment="For client push installations in general" />
            <account use="1" name="CONTOSO\cm-naa" password="P@ssW0rd!" comment="Network Access Account" />
            <account use="1" name="CONTOSO\svc-sql" password="P@ssW0rd!" comment="SQL Server service account" />
        </accounts>
        <malwarepolicies comment="Endpoint Protection Malware Policies">
            <malwarepolicy use="1" name="Standard Desktop" path="E:\CONFIGMGR\AdminConsole\XmlStorage\EPTemplates\SCEP_Standard_Desktop.xml" comment="" />
            <malwarepolicy use="0" name="Standard Desktop" path="E:\CONFIGMGR\AdminConsole\XmlStorage\EPTemplates\SCEP_Default_CfgMgr.xml" comment="" />
            <malwarepolicy use="0" name="Standard Desktop" path="E:\CONFIGMGR\AdminConsole\XmlStorage\EPTemplates\SCEP_High_Security.xml" comment="" />
            <malwarepolicy use="0" name="Standard Desktop" path="E:\CONFIGMGR\AdminConsole\XmlStorage\EPTemplates\SCEP_Performance_Optimized.xml" comment="" />
        </malwarepolicies>
    </cmsite>
</configuration>
